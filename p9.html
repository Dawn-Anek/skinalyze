<!-- p9.html -->
<!DOCTYPE html>
<html lang="th">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Result ‚Äì SKIN ALYZE</title>
  <link rel="stylesheet" href="p9.css">
  <link href="https://fonts.googleapis.com/css2?family=Prompt:wght@300;700&display=swap" rel="stylesheet">
</head>
<body>
  <!-- Navbar -->
  <header class="navbar">
    <a href="p4.html" class="logo">
      <img src="image/logo2.png" alt="Logo">
      SKIN<br>ALYZE
    </a>
    <nav class="nav-menu">
      <a href="p11.html" class="nav-link active">‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡πÇ‡∏£‡∏Ñ‡∏ú‡∏¥‡∏ß‡∏´‡∏ô‡∏±‡∏á</a>
      <a href="p8.html" class="nav-link">‡∏Ñ‡∏π‡πà‡∏°‡∏∑‡∏≠‡∏Å‡∏≤‡∏£‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô</a>
      <a href="p10.html" class="nav-link">‡πÄ‡∏Å‡∏µ‡πà‡∏¢‡∏ß‡∏Å‡∏±‡∏ö‡πÄ‡∏£‡∏≤</a>
    </nav>
    <div class="menu-icon">‚ò∞</div>
  </header>

  <!-- Result Summary -->
  <div class="result-header">
    <p class="subtitle">‡∏ú‡∏•‡∏•‡∏±‡∏û‡∏ò‡πå‡∏Å‡∏≤‡∏£‡∏ß‡∏¥‡πÄ‡∏Ñ‡∏£‡∏≤‡∏∞‡∏´‡πå</p>
    <h1></h1>
    <h2></h2>
    <img id="result-image" class="main-image" src="#" alt="Uploaded Image">
    <div class="recommend-box"></div>
    <ul class="advice-list"></ul>
    <div id="detail-link" style="margin-top:20px;"></div>
  </div>

  <div class="bottom-bar"></div>

  <script>
    const diseaseInfo = {
      Acne: {
        title: '‡∏™‡∏¥‡∏ß (Acne)',
        advice: [
          'üíä ‡πÉ‡∏ä‡πâ‡∏ú‡∏•‡∏¥‡∏ï‡∏†‡∏±‡∏ì‡∏ë‡πå‡∏•‡πâ‡∏≤‡∏á‡∏´‡∏ô‡πâ‡∏≤‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏ú‡∏¥‡∏ß‡πÄ‡∏õ‡πá‡∏ô‡∏™‡∏¥‡∏ß ‡∏ó‡∏µ‡πà‡∏≠‡πà‡∏≠‡∏ô‡πÇ‡∏¢‡∏ô',
          'üíß ‡πÉ‡∏ä‡πâ‡∏Ñ‡∏£‡∏µ‡∏°‡πÉ‡∏´‡πâ‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ä‡∏∏‡πà‡∏°‡∏ä‡∏∑‡πâ‡∏ô‡∏õ‡∏£‡∏≤‡∏®‡∏à‡∏≤‡∏Å‡∏ô‡πâ‡∏≥‡∏°‡∏±‡∏ô',
          'üö´ ‡∏´‡∏•‡∏µ‡∏Å‡πÄ‡∏•‡∏µ‡πà‡∏¢‡∏á‡∏Å‡∏≤‡∏£‡∏ö‡∏µ‡∏ö‡∏´‡∏£‡∏∑‡∏≠‡πÄ‡∏Å‡∏≤ ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏•‡∏î‡πÇ‡∏≠‡∏Å‡∏≤‡∏™‡πÄ‡∏Å‡∏¥‡∏î‡πÅ‡∏ú‡∏•‡πÄ‡∏õ‡πá‡∏ô'
        ],
        detailPage: 'p7.html'
      },
      Eczema: {
        title: '‡∏ú‡∏∑‡πà‡∏ô‡πÅ‡∏û‡πâ‡∏ú‡∏¥‡∏ß‡∏´‡∏ô‡∏±‡∏á (Eczema)',
        advice: [
          'üíä ‡πÉ‡∏ä‡πâ‡∏Ñ‡∏£‡∏µ‡∏°‡πÉ‡∏´‡πâ‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ä‡∏∏‡πà‡∏°‡∏ä‡∏∑‡πâ‡∏ô ‡∏•‡∏î‡∏≠‡∏≤‡∏Å‡∏≤‡∏£‡πÅ‡∏´‡πâ‡∏á ‡∏Ñ‡∏±‡∏ô',
          'üöø ‡∏≠‡∏≤‡∏ö‡∏ô‡πâ‡∏≥‡∏≠‡∏∏‡πà‡∏ô ‡πÑ‡∏°‡πà‡∏£‡πâ‡∏≠‡∏ô‡πÄ‡∏Å‡∏¥‡∏ô‡πÑ‡∏õ ‡∏´‡∏£‡∏∑‡∏≠‡πÑ‡∏°‡πà‡∏≠‡∏≤‡∏ö‡∏ô‡πâ‡∏≥‡∏ô‡∏≤‡∏ô',
          'ü©∫ ‡∏õ‡∏£‡∏∂‡∏Å‡∏©‡∏≤‡πÅ‡∏û‡∏ó‡∏¢‡πå‡∏´‡∏≤‡∏Å‡∏≠‡∏≤‡∏Å‡∏≤‡∏£‡πÑ‡∏°‡πà‡∏î‡∏µ‡∏Ç‡∏∂‡πâ‡∏ô‡∏†‡∏≤‡∏¢‡πÉ‡∏ô 1-2 ‡∏™‡∏±‡∏õ‡∏î‡∏≤‡∏´‡πå'
        ],
        detailPage: 'p5.html'
      },
      Psoriasis: {
        title: '‡∏™‡∏∞‡πÄ‡∏Å‡πá‡∏î‡πÄ‡∏á‡∏¥‡∏ô (Psoriasis)',
        advice: [
          'üíä ‡πÉ‡∏ä‡πâ ‡∏Ñ‡∏£‡∏µ‡∏°‡∏™‡πÄ‡∏ï‡∏µ‡∏¢‡∏£‡∏≠‡∏¢‡∏î‡πå ‡∏´‡∏£‡∏∑‡∏≠‡∏Ñ‡∏£‡∏µ‡∏°‡∏ó‡∏µ‡πà‡∏ä‡πà‡∏ß‡∏¢‡∏•‡∏î‡∏Å‡∏≤‡∏£‡∏≠‡∏±‡∏Å‡πÄ‡∏™‡∏ö',
          '‚òÄÔ∏è ‡∏´‡∏•‡∏µ‡∏Å‡πÄ‡∏•‡∏µ‡πà‡∏¢‡∏á‡∏õ‡∏±‡∏à‡∏à‡∏±‡∏¢‡∏Å‡∏£‡∏∞‡∏ï‡∏∏‡πâ‡∏ô ‡πÄ‡∏ä‡πà‡∏ô ‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏Ñ‡∏£‡∏µ‡∏¢‡∏î ‡πÅ‡∏≠‡∏•‡∏Å‡∏≠‡∏Æ‡∏≠‡∏•‡πå ‡πÅ‡∏•‡∏∞‡∏ö‡∏∏‡∏´‡∏£‡∏µ‡πà',
          'ü©∫ ‡∏´‡∏≤‡∏Å‡∏≠‡∏≤‡∏Å‡∏≤‡∏£‡∏´‡∏ô‡∏±‡∏Å ‡∏û‡∏ö‡πÅ‡∏û‡∏ó‡∏¢‡πå‡∏ú‡∏¥‡∏ß‡∏´‡∏ô‡∏±‡∏á‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏ß‡∏≤‡∏á‡πÅ‡∏ú‡∏ô‡∏£‡∏±‡∏Å‡∏©‡∏≤'
        ],
        detailPage: 'p6.html'
      },
      Normal: {
        title: '‡∏ú‡∏¥‡∏ß‡∏õ‡∏Å‡∏ï‡∏¥ (Normal)',
        advice: [
          'üíß ‡∏£‡∏±‡∏Å‡∏©‡∏≤‡∏Å‡∏≤‡∏£‡∏ö‡∏≥‡∏£‡∏∏‡∏á‡∏ú‡∏¥‡∏ß‡πÄ‡∏õ‡πá‡∏ô‡∏õ‡∏£‡∏∞‡∏à‡∏≥ ‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏™‡∏°‡πà‡∏≥‡πÄ‡∏™‡∏°‡∏≠',
          'üß¥ ‡∏ó‡∏≤‡∏Ñ‡∏£‡∏µ‡∏°‡∏Å‡∏±‡∏ô‡πÅ‡∏î‡∏î‡∏Å‡πà‡∏≠‡∏ô‡∏≠‡∏≠‡∏Å‡πÅ‡∏î‡∏î',
          'üí§ ‡∏û‡∏±‡∏Å‡∏ú‡πà‡∏≠‡∏ô‡πÉ‡∏´‡πâ‡πÄ‡∏û‡∏µ‡∏¢‡∏á‡∏û‡∏≠'
        ],
        detailPage: 'p8.html'
      }
    };

    // read query params
    const params     = new URLSearchParams(window.location.search);
    const label      = params.get('label');
    const confidence = params.get('confidence');

    // display image
    const imgDataUrl = sessionStorage.getItem('uploadedImage');
    const resultImg  = document.getElementById('result-image');
    if (imgDataUrl) {
      resultImg.src = imgDataUrl;
    } else {
      resultImg.alt = 'No image available';
    }

    // populate texts & advice
    if (label && diseaseInfo[label]) {
      const info = diseaseInfo[label];
      document.querySelector('.result-header h1').textContent =
        `" ${label.toUpperCase()} "`;
      document.querySelector('.result-header h2').textContent =
        `‚≠êÔ∏è ${info.title} ‚≠êÔ∏è`;
      document.querySelector('.recommend-box').textContent =
        `‡∏Ñ‡∏ß‡∏≤‡∏°‡∏°‡∏±‡πà‡∏ô‡πÉ‡∏à: ${Math.round(confidence * 100)}%`;

      const advUl = document.querySelector('.advice-list');
      advUl.innerHTML = '';
      info.advice.forEach(text => {
        const li = document.createElement('li');
        li.textContent = text;
        advUl.appendChild(li);
      });

      // detail page button
      document.getElementById('detail-link').innerHTML = `
        <a href="${info.detailPage}">
          <button class="detail-button">
            ‡∏î‡∏π‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÄ‡∏ï‡∏¥‡∏°
          </button>
        </a>`;
    } else {
      document.querySelector('.result-header').innerHTML =
        '<p class="subtitle">‡πÑ‡∏°‡πà‡∏û‡∏ö‡∏ú‡∏•‡∏•‡∏±‡∏û‡∏ò‡πå</p>';
    }
  </script>
</body>
</html>
